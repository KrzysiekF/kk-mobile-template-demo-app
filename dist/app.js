webpackJsonp([1],{0:function(e,t,n){n("vcSV"),e.exports=n("lVK7")},GcMe:function(e,t){},lVK7:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("M4fF"),o=(n.n(s),n("GcMe"));n.n(o);new(function(){function e(){i(this,e),this.selectedDevice=null,this.options={url:window.KW_DEMO_CONFIG.themeUrl||"",container:window.KW_DEMO_CONFIG.container||"#kk-demo-app",qrcode:window.KW_DEMO_CONFIG.qrcode||"",devices:{mobile_small:{name:"Mobile Small",size:[320,480],menuClass:"kk-mobile"},mobile_small_landscape:{name:"Mobile Small Landscape",size:[480,320],menuClass:"kk-mobile-landscape"},mobile:{name:"Mobile",size:[375,667],menuClass:"kk-mobile"},mobile_landscape:{name:"Mobile Landscape",size:[667,375],menuClass:"kk-mobile-landscape"},tablet:{name:"Tablet",size:[768,1024],menuClass:"kk-tablet"},tablet_landscape:{name:"Tablet Landscape",size:[1024,768],menuClass:"kk-tablet-landscape"}},themes:window.KW_DEMO_CONFIG.themes||[]},this.selectDevice("mobile_small")}return e.prototype.bindEvents=function(){for(var e=this,t=document.querySelectorAll(this.options.container+" a"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){var n=t.target;e.onMenuClick(n),t.preventDefault()});this.options.themes&&this.options.themes.length&&document.getElementById("kk-demo-theme-change").addEventListener("change",function(e){var t=e.target.value,n=document.getElementById("kk-demo-frame"),i=n.contentWindow.document.getElementById("theme-style");if(!t)return i.href=null,!1;i.href="assets/themes/"+e.target.value+"/style.css"})},e.prototype.onMenuClick=function(e){var t=e.dataset.device;this.selectedDevice=t,this.changeSize()},e.prototype.selectDevice=function(e){this.selectedDevice=e,this.refreshView(),this.bindEvents()},e.prototype.changeSize=function(){var e=document.querySelector(this.options.container+" iframe");e.style.width=this.options.devices[this.selectedDevice].size[0]+"px",e.style.height=this.options.devices[this.selectedDevice].size[1]+"px",this.selectMenu()},e.prototype.refreshView=function(){console.log("--\x3e this.options.container: ",this.options.container,document.querySelector(this.options.container)),document.querySelector(this.options.container).innerHTML=this.insertTemplate(),this.selectMenu()},e.prototype.selectMenu=function(){var e=document.querySelectorAll(this.options.container+" .kk-menu a");Object(s.map)(e,function(e){e.classList.remove("active")}),document.querySelector(this.options.container+' .kk-menu a[data-device="'+this.selectedDevice+'"]').classList.add("active")},e.prototype.insertTemplate=function(){return console.log("--\x3e this.selectedDevice: ",this.selectedDevice),console.log("--\x3e options: ",this.options.devices[this.selectedDevice]),this.selectedDevice?'\n            <div class="kk-menu">\n                '+this.insertMenu()+'\n            </div>\n            <div class="kk-iframe">\n                '+this.insertIframe()+"     \n            </div>\n        ":"<div>Loading...</div>"},e.prototype.insertThemeChoose=function(){if(!this.options.themes||!this.options.themes.length)return"";return'<span>Select theme:</span> <select id="kk-demo-theme-change">'+Object(s.map)(this.options.themes,function(e){return'<option value="'+e.slug+'">'+e.name+"</option>"}).join("")+"</select>"},e.prototype.insertMenu=function(){return'\n            <div class="kk-menu">\n                <span>Select device: </span>\n                <ul>'+Object(s.map)(this.options.devices,function(e,t){return'<li><a href="#" data-device="'+t+'" class="'+e.menuClass+'">'+e.name+"</a></li>"}).join("")+"</ul>\n                "+this.insertThemeChoose()+"\n            </div>\n        "},e.prototype.insertQRcode=function(){return'\n            <div class="kk-qrcode">\n                <div>Check on your phone!</div>\n                <img src="'+this.options.qrcode+'">\n            </div>\n        '},e.prototype.insertIframe=function(){return'\n            <div class="kk-device">\n                '+(this.options.qrcode?this.insertQRcode():"")+'\n                <iframe\n                    id="kk-demo-frame"\n                    src="'+this.options.url+'"\n                    frameborder="0"\n                    style="width: '+this.options.devices[this.selectedDevice].size[0]+"px; height: "+this.options.devices[this.selectedDevice].size[1]+'px;"\n                ></iframe>\n            </div>\n        '},e}())}},[0]);
//# sourceMappingURL=app.js.map