webpackJsonp([1],{0:function(e,t,n){n("vcSV"),e.exports=n("lVK7")},GcMe:function(e,t){},lVK7:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n("M4fF"),s=(n.n(o),n("GcMe"));n.n(s);new(function(){function e(){i(this,e),this.selectedDevice=null,this.options={url:window.KW_DEMO_CONFIG.themeUrl||"",container:window.KW_DEMO_CONFIG.container||"#kk-demo-app",qrcode:window.KW_DEMO_CONFIG.qrcode||"",devices:window.KW_DEMO_CONFIG.devices||{mobile_small:{name:"Mobile Small",size:[320,480],menuClass:"kk-mobile",gaCategory:"preview-change",gaAction:"click",gaLabel:"Mobile Small"},mobile_small_landscape:{name:"Mobile Small Landscape",size:[480,320],menuClass:"kk-mobile-landscape",gaCategory:"preview-change",gaAction:"click",gaLabel:"Mobile Small Landscape"},mobile:{name:"Mobile",size:[375,667],menuClass:"kk-mobile",gaCategory:"preview-change",gaAction:"click",gaLabel:"Mobile"},mobile_landscape:{name:"Mobile Landscape",size:[667,375],menuClass:"kk-mobile-landscape",gaCategory:"preview-change",gaAction:"click",gaLabel:"Mobile Landscape"},tablet:{name:"Tablet",size:[768,1024],menuClass:"kk-tablet",gaCategory:"preview-change",gaAction:"click",gaLabel:"Tablet"},tablet_landscape:{name:"Tablet Landscape",size:[1024,768],menuClass:"kk-tablet-landscape",gaCategory:"preview-change",gaAction:"click",gaLabel:"Tablet Landscape"}},themes:window.KW_DEMO_CONFIG.themes||[]},this.selectDevice("mobile_small")}return e.prototype.bindEvents=function(){for(var e=this,t=document.querySelectorAll(this.options.container+" a"),n=0;n<t.length;n++)t[n].addEventListener("click",function(t){var n=t.target;e.onMenuClick(n),t.preventDefault()});this.options.themes&&this.options.themes.length&&document.getElementById("kk-demo-theme-change").addEventListener("change",function(e){var t=e.target.value,n=document.getElementById("kk-demo-frame"),i=n.contentWindow.document.getElementById("theme-style");if(!t)return i.href=null,!1;i.href="assets/themes/"+e.target.value+"/style.css"}),document.getElementById("kk-demo-load-template").addEventListener("click",function(t){document.getElementById("kk-demo-frame").src=e.options.url,document.getElementById("kk-demo-load-template").remove()})},e.prototype.onMenuClick=function(e){var t=e.dataset.device;this.selectedDevice=t,this.changeSize()},e.prototype.selectDevice=function(e){this.selectedDevice=e,this.refreshView(),this.bindEvents()},e.prototype.changeSize=function(){var e=document.querySelector(this.options.container+" iframe");e.style.width=this.options.devices[this.selectedDevice].size[0]+"px",e.style.height=this.options.devices[this.selectedDevice].size[1]+"px",this.selectMenu()},e.prototype.refreshView=function(){console.log("--\x3e this.options.container: ",this.options.container,document.querySelector(this.options.container)),document.querySelector(this.options.container).innerHTML=this.insertTemplate(),this.selectMenu()},e.prototype.selectMenu=function(){var e=document.querySelectorAll(this.options.container+" .kk-menu a");Object(o.map)(e,function(e){e.classList.remove("active")}),document.querySelector(this.options.container+' .kk-menu a[data-device="'+this.selectedDevice+'"]').classList.add("active")},e.prototype.insertTemplate=function(){return console.log("--\x3e this.selectedDevice: ",this.selectedDevice),console.log("--\x3e options: ",this.options.devices[this.selectedDevice]),this.selectedDevice?'\n            <div class="kk-menu">\n                '+this.insertMenu()+'\n            </div>\n            <div class="kk-iframe">\n                '+this.insertIframe()+"     \n            </div>\n        ":"<div>Loading...</div>"},e.prototype.insertThemeChoose=function(){if(!this.options.themes||!this.options.themes.length)return"";return'<span>Select theme:</span> <select id="kk-demo-theme-change">'+Object(o.map)(this.options.themes,function(e){return'<option value="'+e.slug+'">'+e.name+"</option>"}).join("")+"</select>"},e.prototype.insertMenu=function(){return'\n            <div class="kk-menu">\n                <span>Select device: </span>\n                <ul>'+Object(o.map)(this.options.devices,function(e,t){return'\n        <li>\n          <a\n            href="#"\n            data-device="'+t+'"\n            class="'+e.menuClass+'"\n            data-vars-ga-category="'+e.gaCategory+'"\n            data-vars-ga-action="'+e.gaAction+'"\n            data-vars-ga-label="'+e.gaLabel+'"\n          >'+e.name+"</a>\n        </li>\n      "}).join("")+"</ul>\n                "+this.insertThemeChoose()+"\n            </div>\n        "},e.prototype.insertQRcode=function(){return'\n            <div class="kk-qrcode">\n                <div>Check on your phone!</div>\n                <img src="'+this.options.qrcode+'">\n            </div>\n        '},e.prototype.insertIframe=function(){return'\n            <div class="kk-device">\n                <button id="kk-demo-load-template" class="kk-demo-button">Load the template</button>\n                '+(this.options.qrcode?this.insertQRcode():"")+'\n                <iframe\n                    id="kk-demo-frame"\n                    src=""\n                    frameborder="0"\n                    style="width: '+this.options.devices[this.selectedDevice].size[0]+"px; height: "+this.options.devices[this.selectedDevice].size[1]+'px;"\n                ></iframe>\n            </div>\n        '},e}())}},[0]);
//# sourceMappingURL=app.js.map