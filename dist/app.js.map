{"version":3,"sources":["webpack:///app.js","webpack:///./src/index.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","GcMe","lVK7","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_lodash__","__WEBPACK_IMPORTED_MODULE_1__style_css__","n","ThemesDemoApp","this","selectedDevice","options","url","window","KW_DEMO_CONFIG","themeUrl","container","qrcode","devices","mobile_small","name","size","menuClass","mobile_small_landscape","mobile","mobile_landscape","tablet","tablet_landscape","themes","selectDevice","prototype","bindEvents","_this","menuLink","document","querySelectorAll","i","length","addEventListener","event","button","target","onMenuClick","preventDefault","getElementById","slug","frame","theme","contentWindow","href","device","dataset","changeSize","refreshView","querySelector","style","width","height","selectMenu","console","log","innerHTML","insertTemplate","menuLinks","link","classList","remove","add","insertMenu","insertIframe","insertThemeChoose","labelText","join","key","insertQRcode"],"mappings":"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","file":"app.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(\"vcSV\");\nmodule.exports = __webpack_require__(\"lVK7\");\n\n\n/***/ }),\n\n/***/ \"GcMe\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"lVK7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash__ = __webpack_require__(\"M4fF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_lodash___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_css__ = __webpack_require__(\"GcMe\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__style_css__);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar ThemesDemoApp = function () {\n  function ThemesDemoApp() {\n    _classCallCheck(this, ThemesDemoApp);\n\n    this.selectedDevice = null;\n\n    this.options = {\n      url: window.KW_DEMO_CONFIG.themeUrl || '',\n      container: window.KW_DEMO_CONFIG.container || '#kk-demo-app',\n      qrcode: window.KW_DEMO_CONFIG.qrcode || '',\n      devices: {\n        mobile_small: {\n          name: 'Mobile Small',\n          size: [320, 480],\n          menuClass: 'kk-mobile'\n        },\n        mobile_small_landscape: {\n          name: 'Mobile Small Landscape',\n          size: [480, 320],\n          menuClass: 'kk-mobile-landscape'\n        },\n        mobile: {\n          name: 'Mobile',\n          size: [375, 667],\n          menuClass: 'kk-mobile'\n        },\n        mobile_landscape: {\n          name: 'Mobile Landscape',\n          size: [667, 375],\n          menuClass: 'kk-mobile-landscape'\n        },\n        tablet: {\n          name: 'Tablet',\n          size: [768, 1024],\n          menuClass: 'kk-tablet'\n        },\n        tablet_landscape: {\n          name: 'Tablet Landscape',\n          size: [1024, 768],\n          menuClass: 'kk-tablet-landscape'\n        }\n      },\n      themes: window.KW_DEMO_CONFIG.themes || []\n    };\n\n    this.selectDevice('mobile_small');\n  }\n\n  ThemesDemoApp.prototype.bindEvents = function bindEvents() {\n    var _this = this;\n\n    var menuLink = document.querySelectorAll(this.options.container + ' a');\n\n    for (var i = 0; i < menuLink.length; i++) {\n      menuLink[i].addEventListener('click', function (event) {\n        var button = event.target;\n        _this.onMenuClick(button);\n\n        event.preventDefault();\n      });\n    }\n\n    if (this.options.themes && !!this.options.themes.length) {\n      document.getElementById('kk-demo-theme-change').addEventListener('change', function (event) {\n        var slug = event.target.value;\n        var frame = document.getElementById('kk-demo-frame');\n        var theme = frame.contentWindow.document.getElementById('theme-style');\n\n        if (!slug) {\n          theme.href = null;\n          return false;\n        }\n\n        theme.href = 'assets/themes/' + event.target.value + '/style.css';\n      });\n    }\n  };\n\n  ThemesDemoApp.prototype.onMenuClick = function onMenuClick(button) {\n    var device = button.dataset.device;\n\n\n    this.selectedDevice = device;\n\n    this.changeSize();\n  };\n\n  ThemesDemoApp.prototype.selectDevice = function selectDevice(device) {\n    this.selectedDevice = device;\n    this.refreshView();\n    this.bindEvents();\n  };\n\n  ThemesDemoApp.prototype.changeSize = function changeSize() {\n    var frame = document.querySelector(this.options.container + ' iframe');\n\n    frame.style.width = this.options.devices[this.selectedDevice].size[0] + 'px';\n    frame.style.height = this.options.devices[this.selectedDevice].size[1] + 'px';\n\n    this.selectMenu();\n  };\n\n  ThemesDemoApp.prototype.refreshView = function refreshView() {\n    console.log('--> this.options.container: ', this.options.container, document.querySelector(this.options.container));\n    document.querySelector(this.options.container).innerHTML = this.insertTemplate();\n\n    this.selectMenu();\n  };\n\n  ThemesDemoApp.prototype.selectMenu = function selectMenu() {\n    var menuLinks = document.querySelectorAll(this.options.container + ' .kk-menu a');\n\n    Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"map\"])(menuLinks, function (link) {\n      link.classList.remove('active');\n    });\n\n    var selected = document.querySelector(this.options.container + ' .kk-menu a[data-device=\"' + this.selectedDevice + '\"]');\n\n    selected.classList.add('active');\n  };\n\n  ThemesDemoApp.prototype.insertTemplate = function insertTemplate() {\n    console.log('--> this.selectedDevice: ', this.selectedDevice);\n    console.log('--> options: ', this.options.devices[this.selectedDevice]);\n\n    if (!this.selectedDevice) {\n      return '<div>Loading...</div>';\n    }\n\n    return '\\n            <div class=\"kk-menu\">\\n                ' + this.insertMenu() + '\\n            </div>\\n            <div class=\"kk-iframe\">\\n                ' + this.insertIframe() + '     \\n            </div>\\n        ';\n  };\n\n  ThemesDemoApp.prototype.insertThemeChoose = function insertThemeChoose() {\n    if (!this.options.themes || !this.options.themes.length) {\n      return '';\n    }\n\n    var labelText = '<span>Select theme:</span>';\n    var options = Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"map\"])(this.options.themes, function (theme) {\n      return '<option value=\"' + theme.slug + '\">' + theme.name + '</option>';\n    }).join('');\n\n    return labelText + ' <select id=\"kk-demo-theme-change\">' + options + '</select>';\n  };\n\n  ThemesDemoApp.prototype.insertMenu = function insertMenu() {\n    var links = Object(__WEBPACK_IMPORTED_MODULE_0_lodash__[\"map\"])(this.options.devices, function (device, key) {\n      return '<li><a href=\"#\" data-device=\"' + key + '\" class=\"' + device.menuClass + '\">' + device.name + '</a></li>';\n    }).join('');\n\n    return '\\n            <div class=\"kk-menu\">\\n                <span>Select device: </span>\\n                <ul>' + links + '</ul>\\n                ' + this.insertThemeChoose() + '\\n            </div>\\n        ';\n  };\n\n  ThemesDemoApp.prototype.insertQRcode = function insertQRcode() {\n    return '\\n            <div class=\"kk-qrcode\">\\n                <div>Check on your phone!</div>\\n                <img src=\"' + this.options.qrcode + '\">\\n            </div>\\n        ';\n  };\n\n  ThemesDemoApp.prototype.insertIframe = function insertIframe() {\n    return '\\n            <div class=\"kk-device\">\\n                ' + (this.options.qrcode ? this.insertQRcode() : '') + '\\n                <iframe\\n                    id=\"kk-demo-frame\"\\n                    src=\"' + this.options.url + '\"\\n                    frameborder=\"0\"\\n                    style=\"width: ' + this.options.devices[this.selectedDevice].size[0] + 'px; height: ' + this.options.devices[this.selectedDevice].size[1] + 'px;\"\\n                ></iframe>\\n            </div>\\n        ';\n  };\n\n  return ThemesDemoApp;\n}();\n\nnew ThemesDemoApp();\n\n/***/ })\n\n},[0]);\n\n\n// WEBPACK FOOTER //\n// app.js","import { map } from 'lodash';\nimport './style.css';\n\nclass ThemesDemoApp {\n  constructor() {\n    this.selectedDevice = null;\n\n    this.options = {\n      url: window.KW_DEMO_CONFIG.themeUrl || '',\n      container: window.KW_DEMO_CONFIG.container || '#kk-demo-app',\n      qrcode: window.KW_DEMO_CONFIG.qrcode || '',\n      devices: {\n        mobile_small: {\n          name: 'Mobile Small',\n          size: [ 320, 480 ],\n          menuClass: 'kk-mobile',\n        },\n        mobile_small_landscape: {\n          name: 'Mobile Small Landscape',\n          size: [ 480, 320 ],\n          menuClass: 'kk-mobile-landscape',\n        },\n        mobile: {\n          name: 'Mobile',\n          size: [ 375, 667 ],\n          menuClass: 'kk-mobile',\n        },\n        mobile_landscape: {\n          name: 'Mobile Landscape',\n          size: [ 667, 375 ],\n          menuClass: 'kk-mobile-landscape',\n        },\n        tablet: {\n          name: 'Tablet',\n          size: [ 768, 1024 ],\n          menuClass: 'kk-tablet',\n        },\n        tablet_landscape: {\n          name: 'Tablet Landscape',\n          size: [ 1024, 768 ],\n          menuClass: 'kk-tablet-landscape',\n        },\n      },\n      themes: window.KW_DEMO_CONFIG.themes || [],\n    };\n\n    this.selectDevice('mobile_small');\n  }\n\n  bindEvents() {\n    const menuLink = document.querySelectorAll(this.options.container + ' a');\n\n    for (var i = 0; i < menuLink.length; i++) {\n      menuLink[ i ].addEventListener('click', (event) => {\n        const button = event.target;\n        this.onMenuClick(button);\n\n        event.preventDefault();\n      });\n    }\n\n    if (this.options.themes && !!this.options.themes.length) {\n      document.getElementById('kk-demo-theme-change').\n          addEventListener('change', (event) => {\n            const slug = event.target.value;\n            const frame = document.getElementById('kk-demo-frame');\n            const theme = frame.contentWindow.document.getElementById(\n                'theme-style');\n\n            if (!slug) {\n              theme.href = null;\n              return false;\n            }\n\n            theme.href = `assets/themes/${event.target.value}/style.css`;\n          });\n    }\n  }\n\n  onMenuClick(button) {\n    const { device } = button.dataset;\n\n    this.selectedDevice = device;\n\n    this.changeSize();\n  }\n\n  selectDevice(device) {\n    this.selectedDevice = device;\n    this.refreshView();\n    this.bindEvents();\n  }\n\n  changeSize() {\n    const frame = document.querySelector(this.options.container + ' iframe');\n\n    frame.style.width = this.options.devices[ this.selectedDevice ].size[ 0 ] +\n        'px';\n    frame.style.height = this.options.devices[ this.selectedDevice ].size[ 1 ] +\n        'px';\n\n    this.selectMenu();\n  }\n\n  refreshView() {\n    console.log('--> this.options.container: ', this.options.container,\n        document.querySelector(this.options.container));\n    document.querySelector(\n        this.options.container).innerHTML = this.insertTemplate();\n\n    this.selectMenu();\n  }\n\n  selectMenu() {\n    const menuLinks = document.querySelectorAll(\n        this.options.container + ' .kk-menu a');\n\n    map(menuLinks, (link) => {\n      link.classList.remove('active');\n    });\n\n    const selected = document.querySelector(\n        this.options.container + ' .kk-menu a[data-device=\"' +\n        this.selectedDevice + '\"]');\n\n    selected.classList.add('active');\n  }\n\n  insertTemplate() {\n    console.log('--> this.selectedDevice: ', this.selectedDevice);\n    console.log('--> options: ', this.options.devices[ this.selectedDevice ]);\n\n    if (!this.selectedDevice) {\n      return (`<div>Loading...</div>`);\n    }\n\n    return (`\n            <div class=\"kk-menu\">\n                ${this.insertMenu()}\n            </div>\n            <div class=\"kk-iframe\">\n                ${this.insertIframe()}     \n            </div>\n        `);\n  }\n\n  insertThemeChoose() {\n    if (!this.options.themes || !this.options.themes.length) {\n      return ('');\n    }\n\n    const labelText = `<span>Select theme:</span>`;\n    const options = map(this.options.themes, (theme) => {\n      return (`<option value=\"${theme.slug}\">${theme.name}</option>`);\n    }).join('');\n\n    return (`${labelText} <select id=\"kk-demo-theme-change\">${options}</select>`);\n  }\n\n  insertMenu() {\n    const links = map(this.options.devices, (device, key) => {\n      return (`<li><a href=\"#\" data-device=\"${key}\" class=\"${device.menuClass}\">${device.name}</a></li>`);\n    }).join('');\n\n    return (`\n            <div class=\"kk-menu\">\n                <span>Select device: </span>\n                <ul>${links}</ul>\n                ${this.insertThemeChoose()}\n            </div>\n        `);\n  }\n\n  insertQRcode() {\n    return (`\n            <div class=\"kk-qrcode\">\n                <div>Check on your phone!</div>\n                <img src=\"${this.options.qrcode}\">\n            </div>\n        `);\n  }\n\n  insertIframe() {\n    return (`\n            <div class=\"kk-device\">\n                ${this.options.qrcode ? this.insertQRcode() : ''}\n                <iframe\n                    id=\"kk-demo-frame\"\n                    src=\"${this.options.url}\"\n                    frameborder=\"0\"\n                    style=\"width: ${this.options.devices[ this.selectedDevice ].size[ 0 ]}px; height: ${this.options.devices[ this.selectedDevice ].size[ 1 ]}px;\"\n                ></iframe>\n            </div>\n        `);\n  }\n}\n\nnew ThemesDemoApp();\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}